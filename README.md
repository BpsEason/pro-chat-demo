# ğŸš€ Laravel 12 + Reverb é«˜æ€§èƒ½å³æ™‚å®¢æœç³»çµ±

æœ¬å°ˆæ¡ˆæ˜¯ä¸€å€‹åŸºæ–¼ **Laravel 12** çš„å…¨æ£§å³æ™‚é€šè¨Šè§£æ±ºæ–¹æ¡ˆï¼Œæ¡ç”¨ **Swoole (Octane)** ä½œç‚ºæ‡‰ç”¨å¼•æ“ï¼Œä¸¦å¯¦ç¾äº† **MySQL ä¸»å¾è®€å¯«åˆ†é›¢** èˆ‡ **å¤šå®¹å™¨è² è¼‰å‡è¡¡** æ¶æ§‹ï¼Œå°ˆç‚ºè™•ç†é«˜ä½µç™¼å³æ™‚è¨Šæ¯è€Œç”Ÿã€‚

---

## ğŸ’ ç³»çµ±æ ¸å¿ƒäº®é»

### 1. æ¥µè‡´æ€§èƒ½æ¶æ§‹ (Enterprise Grade)

* **Laravel Octane (Swoole)**ï¼šæ“ºè„«å‚³çµ± PHP-FPM æ¯æ¬¡è«‹æ±‚é‡æ–°è¼‰å…¥çš„é–‹éŠ·ï¼Œå¯¦ç¾å¸¸é§è¨˜æ†¶é«”çš„é«˜é€ŸéŸ¿æ‡‰ã€‚
* **åŸç”Ÿ WebSocket (Reverb)**ï¼šæ•´åˆ Laravel 12 æœ€æ–° Reverb å¼•æ“ï¼Œæä¾›ä½å»¶é²ã€é«˜ç©©å®šæ€§çš„é›™å‘é€šè¨Šã€‚
* **è®€å¯«åˆ†é›¢ (Read/Write Splitting)**ï¼šé€é Docker å¯¦ç¾ **MySQL ä¸»å¾æ¶æ§‹ (Master-Slave)**ï¼Œå¯«å…¥èµ° Masterï¼ŒæŸ¥è©¢èµ° Slaveï¼Œæ¥µå¤§åŒ–è³‡æ–™åº«ååã€‚

### 2. é‹¼éµèˆ¬çš„ç¶­é‹é‚è¼¯ (Robust DevOps)

* **æ™ºæ…§å•Ÿå‹•è…³æœ¬ (`entrypoint.sh`)**ï¼š
* **è‡ªå‹•é¡åƒä¿®å¾©**ï¼šComposer ç¼ºå¤±æ™‚ï¼Œè‡ªå‹•ä¾åºåˆ‡æ›å®˜æ–¹ã€é˜¿é‡Œé›²ã€é¨°è¨Šé¡åƒï¼Œç¢ºä¿ç’°å¢ƒéƒ¨ç½²ä¸ä¸­æ–·ã€‚
* **è³‡æ–™åº«å°±ç·’åµæ¸¬**ï¼šä¸åƒ…åµæ¸¬ Portï¼Œé‚„æœƒè‡ªå‹•é©—è­‰ MySQL ä½¿ç”¨è€…æ¬Šé™æ˜¯å¦å·²å®Œæˆåˆå§‹åŒ–ã€‚
* **è§’è‰²è‡ªå‹•åˆ‡æ›**ï¼šåŒä¸€ä»½æ˜ åƒæª”æ ¹æ“šå•Ÿå‹•åƒæ•¸åˆ‡æ›ç‚º `App` æ¨¡å¼æˆ– `Reverb` æ¨¡å¼ã€‚


* **è² è¼‰å‡è¡¡ (Nginx Balancing)**ï¼šé è¨­é…ç½®å¤šå€‹ App å¯¦ä¾‹ï¼ˆapp1, app2ï¼‰ï¼Œä¸¦ç”± Nginx åŸ·è¡Œ Round-Robin è½‰ç™¼èˆ‡ WebSocket å‡ç´šè™•ç†ã€‚

### 3. é«˜åº¦è‡ªå‹•åŒ–å®¹å™¨ (Docker Mastery)

* **å¤šéšæ®µç·¨è­¯ (Multi-stage Build)**ï¼šDockerfile æ¡ç”¨å…©éšæ®µç·¨è­¯ï¼Œå¤§å¹…ç¸®æ¸›æœ€çµ‚ Runtime é¡åƒé«”ç©ï¼Œä¸¦å…§ç½®é ç·¨è­¯çš„ Swoole èˆ‡ Redis æ“´å±•ã€‚
* **GTID è‡ªå‹•åŒæ­¥**ï¼šMySQL Slave å®¹å™¨å•Ÿå‹•å¾Œè‡ªå‹•åŸ·è¡Œè…³æœ¬èˆ‡ Master å»ºç«‹åŒæ­¥ï¼Œç„¡éœ€æ‰‹å‹•å¹²é ã€‚

---

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹åœ–

æœ¬ç³»çµ±é€é Nginx ä½œç‚ºå…¥å£é»ï¼Œå°‡æµé‡æ ¹æ“šè·¯å¾‘ç²¾ç¢ºåˆ†ç™¼è‡³ä¸åŒçš„é«˜æ€§èƒ½çµ„ä»¶ï¼š

---

## ğŸ› ï¸ æŠ€è¡“æ£§èªªæ˜

### å¾Œç«¯ Backend

* **Framework**: Laravel 12
* **Engine**: Octane (Swoole é©…å‹•)
* **Real-time**: Laravel Reverb (WebSocket)
* **Queue**: Redis (ç”± Alpine é¡åƒå„ªåŒ–)

### å‰ç«¯ Frontend

* **Framework**: Vue 3 (Composition API)
* **State**: Pinia
* **Styling**: Tailwind CSS v4

### åŸºç¤è¨­æ–½ Infrastructure

* **Reverse Proxy**: Nginx (è² è¼‰å‡è¡¡ & éœæ…‹è³‡æºåˆ†é›¢)
* **Database**: MySQL 8.0 (Master-Slave Replication)
* **Automation**: Shell-based Entrypoint System

---

## ğŸš€ éƒ¨ç½²è·¯å¾‘

### 1. ç’°å¢ƒåˆå§‹åŒ–

```bash
# è¤‡è£½è¨­å®šæª” (entrypoint æœƒè‡ªå‹•è™•ç† key:generate)
cp .env.example .env

```

### 2. ä¸€éµå•Ÿå‹•

```bash
# å•Ÿå‹•æ‰€æœ‰çµ„ä»¶ï¼š2å€‹ App å¯¦ä¾‹ã€1å€‹ Reverbã€1å€‹ Masterã€1å€‹ Slaveã€1å€‹ Redisã€1å€‹ Nginx
docker-compose up -d --build

```

### 3. è§’è‰²èªªæ˜

* **App Leader (rt-app1)**ï¼šè² è²¬åŸ·è¡Œ `migrate:fresh --seed` èˆ‡è³‡æ–™åº«ç¶­è­·ã€‚
* **App Worker (rt-app2)**ï¼šåƒ…è² è²¬è™•ç†æ¥­å‹™æµé‡ã€‚
* **Reverb (rt-reverb)**ï¼šå°ˆè²¬ WebSocket å»£æ’­ã€‚
* **MySQL Master**ï¼šæ¥æ”¶å¯«å…¥è«‹æ±‚ã€‚
* **MySQL Slave**ï¼šè™•ç†æŸ¥è©¢è«‹æ±‚ï¼ˆRead-onlyï¼‰ã€‚

---

## ğŸ” æ¸¬è©¦ç™»å…¥

* **å¾Œå°ç™»å…¥ç¶²å€**ï¼š`http://localhost/login`
* **é è¨­å¸³è™Ÿ**ï¼š`admin@demo.com`
* **é è¨­å¯†ç¢¼**ï¼š`password123`
* **ç³»çµ±ç‰¹æ€§**ï¼šç™»å…¥é é¢å·²è‡ªå‹•é å¡«æ¸¬è©¦å¸³è™Ÿï¼Œä¸¦é–‹å•Ÿ "Remember Me" ä»¥ä¾¿å¿«é€Ÿæ¸¬è©¦é€£ç·šã€‚

---
